<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>自定义指令</title>
    <script src="..\node_modules\vue\dist\vue.js"></script>
  </head>
  <body>
    <div id="app">
      hello
      <span v-red> welcome red</span>
      <span v-green> welcome green</span>
      <span v-bule> welcome bule</span>
    </div>

    <script>
      // vue directive  自定义指令 的几种写法  目前有三种

      // 自定义指令的钩子函数：
      // 指令定义函数提供了几个钩子函数：

      // bind：绑定元素的时候调用
      // inserted：绑定的元素插入父节点时调用
      // Updata：绑定元素的值改变之前调用
      // componentupdata:绑定的元素改变之后调用
      // unbind: 解绑元素的时候调用

      // 钩子函数函数：
      // el:绑定的元素，用来操作DOM
      // binding:绑定的对象信息，包含以下属性。
      // --name : 指令的名字
      // --value : 指令的值
      // oldValue: 指令绑定的前一个值，仅在update和 componentUpdated钩子中可用。无论值是否改变都可用。
      // expression: 绑定值的字符串形式。 例如 v-my-directive=“1 + 1” ， expression 的值是 “1 + 1”。
      // arg: 传给指令的参数。例如 v-my-directive:foo， arg 的值是 “foo”。
      // modifiers: 一个包含修饰符的对象。 例如： v-my-directive.foo.bar, 修饰符对象 modifiers 的值是 { foo: true, bar: true }。
      // vnode: Vue 编译生成的虚拟节点，查阅 VNode API 了解更多详情。
      // oldVnode: 上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。

      Vue.directive("red", {
        inserted: function (el) {
          el.style.background = "red";
        },
      });

      let bule = {
        inserted: function (el) {
          el.style.background = "blue";
        },
      }

      new Vue({
        el: "#app",
        directives: {
          bule: bule,
          green: {
            bind: function (el, binding) {
              el.style.background = "green";
            },
          },
        },
      });
    </script>
  </body>
</html>

